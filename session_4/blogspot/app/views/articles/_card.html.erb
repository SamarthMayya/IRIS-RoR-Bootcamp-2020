<div class="col mb-4">    
    <div class="card border-light h-100">
    <% if article.image.attached? %>
        <%= image_tag(url_for(article.image), class: "card-img-top", alt: "No image :(") %>
    <% else %>
        <%= image_tag(article.image_url, class: "card-img-top", alt: "No image :(") %>
    <% end %>
        <div class="card-body">
        <h3 class="card-title">
            <%= article.title %>
        </h3>

        <h5 class="card-subtitle mb-2 text-muted">
            <%= article.topic %>
        </h5>

        <p class="card-text">
            <%= article.content[0, 80] %>...
        </p>
        <% if article.public || current_user %>
            <%= link_to 'Read More', article, class: 'text-white btn btn-primary' %>
        <% else %>
        <a href="/" data-toggle="popover" title="Notice" data-content="Please login to continue viewing the article" data-trigger="hover" class='text-white btn btn-primary'>Read content</a>
        <% end %>
        <script>
            $(document).ready(function(){
                $('[data-toggle="popover"]').popover();
            });
        </script>
        </div>
    </div>
</div>